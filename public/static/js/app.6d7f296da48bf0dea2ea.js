webpackJsonp([2],{0:function(e,t){},"0un7":function(e,t){},1:function(e,t){},"1YKb":function(e,t){},"5LIk":function(e,t){},"5yyP":function(e,t){},"9jN5":function(e,t){},AXXA:function(e,t){},Bnbg:function(e,t,o){"use strict";var i={name:"MovieIndexHeader",components:{UserInfo:o("DF6U").a},data:function(){return{theme1:"light",movieName:"",movieItems:[],m_name:"",isLogin:!1,username:"",modal1:!1,userAvatar:"",value1:!1,isAdmin:!1,id:""}},mounted:function(){document.querySelector("body").setAttribute("style","background-color:#DAEBE3")},beforeDestroy:function(){document.querySelector("body").removeAttribute("style")},methods:{searchMovie:function(){var e=this;this.$http.post("http://localhost:3000/showName",{movieName:this.m_name}).then(function(t){0===t.body.status?(e.$router.push({path:"/showName",query:{movieName:e.m_name}}),console.log("aaaaaaaaaaaa"+e.m_name)):e.$Modal.error({title:"搜索失败",content:t.body.message})})},info:function(){this.$Notice.info({title:"未登录"})},success:function(e){this.$Notice.success({title:"欢迎登录！"+e})},logout:function(e){console.log("aaate"),sessionStorage.clear(),this.$router.push({path:"/loginPage"}),this.$Notice.info({title:"注销成功"})},ok:function(){this.logout()},cancel:function(){}},created:function(){var e=this;sessionStorage.getItem("token")?(this.isLogin=!0,this.username=sessionStorage.getItem("username"),this.id=sessionStorage.getItem("_id"),this.$http.post("http://localhost:3000/users/showUser",{user_id:this.id}).then(function(t){e.isAdmin=t.body.data[0].userAdmin,e.userAvatar=t.body.data[0].userAvatar})):(console.log(this.isLogin),this.info())}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Menu",{staticClass:"header",attrs:{mode:"horizontal",theme:e.theme1,"active-name":"1"}},[o("router-link",{attrs:{to:"/"}},[o("MenuItem",{staticClass:"header_menu",staticStyle:{"margin-left":"35%","margin-right":"30px"},attrs:{name:"1"}},[o("i",{staticClass:"el-icon-house"}),e._v("\n      主页\n    ")])],1),e._v(" "),o("router-link",{attrs:{to:"/movieList"}},[o("MenuItem",{staticClass:"header_menu",staticStyle:{"margin-right":"30px"},attrs:{name:"2"}},[o("i",{staticClass:"el-icon-data-board"}),e._v("\n      电影\n    ")])],1),e._v(" "),o("router-link",{attrs:{to:"/movieAdd"}},[o("MenuItem",{staticClass:"header_menu",attrs:{name:"3"}},[o("i",{staticClass:"el-icon-data-line"}),e._v("\n      上传电影\n    ")])],1),e._v(" "),o("MenuItem",{staticClass:"header_menu",staticStyle:{"margin-left":"50px"},attrs:{name:"4"}},[o("Input",{staticStyle:{width:"auto"},attrs:{placeholder:"搜索电影"},model:{value:e.m_name,callback:function(t){e.m_name=t},expression:"m_name"}},[o("Icon",{attrs:{slot:"suffix",type:"ios-search"},on:{click:e.searchMovie},slot:"suffix"})],1)],1),e._v(" "),e.isLogin?o("div",[o("div",{staticClass:"demo-avatar"},[o("Avatar",{staticStyle:{"background-color":"#88B091"},attrs:{src:e.userAvatar}}),e._v(" "),o("Dropdown",[o("a",{staticStyle:{color:"#88B091"},attrs:{href:"javascript:void(0)"}},[e._v("\n          已登录\n          "),o("Icon",{attrs:{type:"ios-arrow-down"}})],1),e._v(" "),o("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[o("DropdownItem",{nativeOn:{click:function(t){e.value1=!0}}},[e._v("个人信息")]),e._v(" "),o("RouterLink",{attrs:{to:{path:"/changeInfo",query:{id:e.id}}}},[o("DropdownItem",[e._v("更改信息")])],1),e._v(" "),o("RouterLink",{attrs:{to:{path:"/admin",query:{id:e.id}}}},[e.isAdmin?o("DropdownItem",[e._v("管理中心")]):e._e()],1),e._v(" "),o("DropdownItem",{nativeOn:{click:function(t){e.modal1=!0}}},[e._v("注销")])],1)],1)],1)]):o("div",[o("div",{staticClass:"demo-avatar"},[o("router-link",{attrs:{to:"/loginPage"}},[o("Avatar",{staticStyle:{"background-color":"#88B091"},attrs:{icon:"ios-person"}})],1),e._v(" "),o("Dropdown",[o("router-link",{attrs:{to:"/loginPage"}},[o("a",{staticStyle:{color:"#88B091"},attrs:{href:"javascript:void(0)"}},[e._v("\n            未登录\n            "),o("Icon",{attrs:{type:"ios-arrow-down"}})],1)]),e._v(" "),o("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[o("router-link",{attrs:{to:"/loginPage"}},[o("DropdownItem",[e._v("个人信息")]),e._v(" "),o("DropdownItem",[e._v("忘记密码")]),e._v(" "),o("DropdownItem",[e._v("管理中心")]),e._v(" "),o("DropdownItem",{nativeOn:{click:function(t){e.modal1=!0}}},[e._v("注销")])],1)],1)],1)],1)]),e._v(" "),o("Modal",{attrs:{title:"注销"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[o("p",[e._v("确认注销?")])]),e._v(" "),o("Drawer",{attrs:{width:"380px",title:"个人信息：",closable:!1},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},[o("user-info",{attrs:{id:e.id}})],1)],1)},staticRenderFns:[]};var n=o("VU/8")(i,a,!1,function(e){o("j89w")},"data-v-7d672294",null);t.a=n.exports},C5wL:function(e,t){},DF6U:function(e,t,o){"use strict";var i={name:"userInfo",components:{MovieIndexHeader:o("Bnbg").a},data:function(){return{userId:"",info:[],Find:!1,username:"",userMail:"",userNewPassword:"",userRePassword:""}},props:["id"],created:function(){var e=this,t=this.id;t&&this.$http.post("http://localhost:3000/users/showUser",{user_id:t}).then(function(t){0===t.body.status?(e.info=t.body.data[0],console.log(t.body.data[0].userStop),t.body.data[0].userStop?e.info.userStatus="已被封停":e.info.userStatus="正常",console.log(t.body.data[0]),console.log(t.body.data[0].userAdmin),t.body.data[0].userAdmin?e.info.admin="管理员用户":e.info.admin="普通用户",console.log("测试用户身份"+t.body.data[0].userAdmin)):(console.log(t.body),e.$Notice.info({title:t.body.message}))})},methods:{findPassword:function(e){var t=this;this.$http.post("http://localhost:3000/users/findPassword",{username:this.username,userMail:this.userMail,userNewPassword:this.userNewPassword,userRePassword:this.userRePassword}).then(function(e){0===e.body.status?(t.$Modal.success({title:e.body.message}),t.Find=!1):t.$Modal.error({title:e.body.message})})}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"text-align":"center",margin:"auto",padding:"10px"}},[o("Card",{staticStyle:{width:"300px",height:"200px",margin:"auto"},attrs:{bordered:""}},[o("table",{attrs:{align:"center"}},[o("tr",{staticClass:"row"},[o("td",{attrs:{colspan:"2"}},[o("Img",{staticStyle:{width:"50px","border-radius":"4px",border:"#88B091 solid 2px"},attrs:{src:e.info.userAvatar}})],1)]),e._v(" "),o("div",{staticStyle:{margin:"10px"}},[o("tr",{staticClass:"row"},[o("td",{staticStyle:{"text-align":"right",margin:"10px"}},[e._v("用户名：")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v(e._s(e.info.username))])]),e._v(" "),o("tr",{staticClass:"row"},[o("td",[e._v("用户邮箱：")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v(e._s(e.info.userMail))])]),e._v(" "),o("tr",{staticClass:"row"},[o("td",[e._v("用户身份：")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v(e._s(e.info.admin))])]),e._v(" "),o("tr",{staticClass:"row"},[o("td",[e._v("用户状态：")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v(e._s(e.info.userStatus))])])])])]),e._v(" "),o("div",{staticStyle:{"text-align":"right",margin:"30px"}},[o("Button",{attrs:{shape:"circle"},nativeOn:{click:function(t){e.Find=!0}}},[e._v("修改密码")])],1),e._v(" "),o("div",{staticStyle:{margin:"20px"}},[e.Find?o("Card",[o("Form",{attrs:{"label-width":60}},[o("FormItem",{attrs:{label:"用户名"}},[o("Input",{attrs:{placeholder:"请输入用户名..."},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),o("FormItem",{attrs:{label:"用户邮箱"}},[o("Input",{attrs:{placeholder:"请输入用户邮箱..."},model:{value:e.userMail,callback:function(t){e.userMail=t},expression:"userMail"}})],1),e._v(" "),o("FormItem",{attrs:{label:"新密码"}},[o("Input",{attrs:{type:"password",placeholder:"请输入新密码..."},model:{value:e.userNewPassword,callback:function(t){e.userNewPassword=t},expression:"userNewPassword"}})],1),e._v(" "),o("FormItem",{attrs:{label:"确认密码"}},[o("Input",{attrs:{type:"password",placeholder:"再次输入新密码..."},model:{value:e.userRePassword,callback:function(t){e.userRePassword=t},expression:"userRePassword"}})],1),e._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.findPassword()}}},[e._v("重置密码")]),e._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},nativeOn:{click:function(t){e.Find=!1}}},[e._v("取消")])],1)],1)],1):e._e()],1)],1)},staticRenderFns:[]};var n=o("VU/8")(i,a,!1,function(e){o("C5wL")},"data-v-7d6e786d",null);t.a=n.exports},Fvux:function(e,t){},H556:function(e,t){},IY3w:function(e,t){},LmLQ:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=o("VU/8")({name:"App"},a,!1,function(e){o("LmLQ")},null,null).exports,s=o("/ocq"),r=o("8+8L"),l=o("Bnbg"),d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer"},[t("div",{staticClass:"footer"})])}]};var m=o("VU/8")({},d,!1,function(e){o("IY3w")},null,null).exports,c=o("t4xX"),u={name:"movieList",data:function(){return{movieItems:[],movieItems1:[],movieItems0:[],movieItems4:[],totalNum1:1,totalNum2:1,totalNum3:1,totalNum4:1,index:1,pageSize:8}},components:{MovieIndexHeader:l.a,MoviesList:c.a},mounted:function(){document.querySelector("body").setAttribute("style","background-color:white")},beforeDestroy:function(){document.querySelector("body").removeAttribute("style")},created:function(e){this.init(e),console.log("这里测试数据长度："+this.totalNum1)},methods:{init:function(e){var t=this;this.$http.post("http://localhost:3000/movie/pageMovie",{start:e,limit:this.pageSize}).then(function(e){t.movieItems=e.body.data,t.totalNum1=e.body.totalNum,console.log("这里测试分页："+e.body.totalNum)}),this.$http.post("http://localhost:3000/showTag",{start:e,limit:this.pageSize,movieTag:"1"}).then(function(e){t.movieItems1=e.body.data,t.totalNum2=e.body.totalNum,console.log(e.body)}),this.$http.post("http://localhost:3000/showTag",{start:e,limit:this.pageSize,movieTag:"0"}).then(function(e){t.movieItems0=e.body.data,t.totalNum3=e.body.totalNum,console.log(e.body)}),this.$http.post("http://localhost:3000/showTag",{start:e,limit:this.pageSize,movieTag:"2"}).then(function(e){t.movieItems4=e.body.data,t.totalNum4=e.body.totalNum,console.log(e.body)})},changePage:function(e){this.init(e)}}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Card",{staticStyle:{height:"1000px"}},[o("div",{staticClass:"container"},[o("div",{staticStyle:{"margin-left":"0px"}},[o("Tabs",{attrs:{type:"card"}},[o("TabPane",{staticStyle:{"margin-left":"0px"},attrs:{label:"全部"}},[o("div",{staticClass:"contentMain"},[o("div",{staticClass:"contentLeft"},[o("ul",{staticClass:"cont-ul",staticStyle:{"margin-left":"80px","text-align":"left"}},[e._l(e.movieItems,function(e){return o("movies-list",{key:e._id,attrs:{id:e._id,movieName:e.movieName,movieImg:e.movieImg,movieNumSuppose:e.movieNumSuppose}})}),e._v(" "),o("div",{staticStyle:{"background-color":"#DAEBE3","text-align":"center"}},[o("Page",{attrs:{current:e.index,total:e.totalNum1,"page-size":e.pageSize,"show-elevator":""},on:{"on-change":e.changePage}}),e._v(" "),o("div",{staticStyle:{height:"20px"}})],1)],2)])])]),e._v(" "),o("TabPane",{attrs:{label:"动漫"}},[o("div",{staticClass:"contentMain"},[o("div",{staticClass:"contentLeft"},[o("ul",{staticClass:"cont-ul",staticStyle:{"margin-left":"80px","text-align":"left"}},[e._l(e.movieItems1,function(e){return o("movies-list",{key:e._id,attrs:{id:e._id,movieName:e.movieName,movieImg:e.movieImg,movieNumSuppose:e.movieNumSuppose,movieTag:e.movieTag}})}),e._v(" "),o("div",{staticStyle:{"background-color":"#DAEBE3","text-align":"center"}},[o("Page",{attrs:{current:e.index,total:e.totalNum2,"page-size":e.pageSize,"show-elevator":""},on:{"on-change":e.changePage}}),e._v(" "),o("div",{staticStyle:{height:"20px"}})],1)],2)])])]),e._v(" "),o("TabPane",{attrs:{label:"冒险"}},[o("div",{staticClass:"contentMain"},[o("div",{staticClass:"contentLeft"},[o("ul",{staticClass:"cont-ul",staticStyle:{"margin-left":"80px","text-align":"left"}},[e._l(e.movieItems0,function(e){return o("movies-list",{key:e._id,attrs:{id:e._id,movieName:e.movieName,movieImg:e.movieImg,movieNumSuppose:e.movieNumSuppose,movieTag:e.movieTag}})}),e._v(" "),o("div",{staticStyle:{"background-color":"#DAEBE3","text-align":"center","margin-bottom":"0px"}},[o("Page",{attrs:{current:e.index,total:e.totalNum3,"page-size":e.pageSize,"show-elevator":""},on:{"on-change":e.changePage}}),e._v(" "),o("div",{staticStyle:{height:"20px"}})],1)],2)])])]),e._v(" "),o("TabPane",{attrs:{label:"剧情"}},[o("div",{staticClass:"contentMain"},[o("div",{staticClass:"contentLeft"},[o("ul",{staticClass:"cont-ul",staticStyle:{"margin-left":"80px","text-align":"left"}},[e._l(e.movieItems4,function(e){return o("movies-list",{key:e._id,attrs:{id:e._id,movieName:e.movieName,movieImg:e.movieImg,movieNumSuppose:e.movieNumSuppose,movieTag:e.movieTag}})}),e._v(" "),o("div",{staticStyle:{"background-color":"#DAEBE3","text-align":"center","margin-bottom":"0px","padding-top":"50px"}},[o("Page",{attrs:{current:e.index,total:e.totalNum4,"page-size":e.pageSize,"show-elevator":""},on:{"on-change":e.changePage}}),e._v(" "),o("div",{staticStyle:{height:"20px"}})],1)],2)])])])],1)],1),e._v(" "),o("div",[o("movie-index-header")],1)])])},staticRenderFns:[]};var v=o("VU/8")(u,p,!1,function(e){o("vtU2")},"data-v-0ebe8c24",null).exports,h={props:["movie_id"],data:function(){return{item:[],isAdmin:!1,items:[],context:"",totalNum:1,index:1,pageSize:3,send_data:[],info:[]}},created:function(e){this.init(e)},methods:{init:function(e){var t=this;console.log(this.movie_id),this.$http.post("http://localhost:3000/movie/pagecomment",{start:e,limit:this.pageSize,movie_id:this.movie_id}).then(function(e){0==e.body.status?(t.items=e.body.data,t.$http.post("http://localhost:3000/movie/totalNum",{movie_id:t.movie_id}).then(function(e){0==e.body.status?t.totalNum=e.body.data:alert("获得失败")}),t.$http.post("http://localhost:3000/users/showUser",{user_id:sessionStorage.getItem("_id")}).then(function(e){0===e.body.status?(t.info=e.body.data[0],console.log(t.info.userAdmin),t.info.userAdmin&&(t.isAdmin=!0)):(console.log(e.body),t.$Notice.info({title:e.body.message}))})):t.$Notice.error({title:"获取数据失败"})})},deleteComment:function(e){var t=this;console.log(e),this.$http.post("http://localhost:3000/admin/delComment",{commentId:e,username:sessionStorage.getItem("username"),token:sessionStorage.getItem("token"),id:sessionStorage.getItem("_id")}).then(function(e){t.$Notice.info({title:e.body.message}),t.init(t.index)})},changePage:function(e){this.init(e)},send_comment:function(e){var t=this;if(void 0!==sessionStorage.getItem("_id")){var o={movie_id:this.movie_id,context:this.context,username:this.info.username,userAvatar:this.info.userAvatar};this.$http.post("http://localhost:3000/users/postComment",o).then(function(e){console.log(e.body),t.$Notice.success({title:"评论成功"}),t.init(t.index)}),this.context=""}else{var i={movie_id:this.movie_id,context:this.context};this.$http.post("http://localhost:3000/users/postComment",i).then(function(e){console.log(e.body),t.$Notice.success({title:"评论成功"}),t.init(t.index)})}}}},g={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"comment"},[o("h2",{staticStyle:{"margin-bottom":"10px"}},[e._v(" 评论区：")]),e._v(" "),e._l(e.items,function(t){return o("list",{key:t.id,staticStyle:{"list-style":"none"}},[o("ListItem",[o("ListItemMeta",{attrs:{avatar:t.userAvatar,title:t.username,description:t.context}}),e._v(" "),e.isAdmin?o("template",{slot:"action"},[o("li",[o("a",{staticStyle:{"text-decoration":"underline"},on:{click:function(o){return e.deleteComment(t._id)}}},[e._v("删除")])])]):e._e()],2)],1)})],2),e._v(" "),o("Page",{staticStyle:{margin:"20px"},attrs:{current:e.index,total:e.totalNum,"page-size":e.pageSize,"show-elevator":""},on:{"on-change":e.changePage}}),e._v(" "),o("div",{staticStyle:{padding:"5px"}},[o("Input",{staticStyle:{width:"800px"},attrs:{"show-word-limit":"",type:"textarea",placeholder:"说点什么叭！...",rows:10},model:{value:e.context,callback:function(t){e.context=t},expression:"context"}})],1),e._v(" "),o("div",{staticStyle:{"padding-top":"10px","margin-bottom":"20px"}},[o("Button",{attrs:{type:"success",ghost:""},on:{click:e.send_comment}},[e._v("评论")])],1)],1)},staticRenderFns:[]};var f=o("VU/8")(h,g,!1,function(e){o("foFD")},"data-v-28b05dda",null).exports,_=(o("g3Gj"),o("5LIk"),{name:"MovieDetail",data:function(){return{detail:[],movie_id:" ",valueCustomText:0,playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,controls:!0,preload:"auto",muted:!1,loop:!1,language:"zh-CN",aspectRatio:"14:6",fluid:!0,sources:[{type:"video/mp4",src:""}],poster:"http://39.106.117.192:8080/static/indexImg.png",width:document.documentElement.clientWidth,notSupportedMessage:"此视频暂无法播放，请稍后再试"}}},components:{MovieIndexHeader:l.a,CommonFooter:m,Comment:f},created:function(){var e=this;this.movie_id=this.$route.query.id,this.$http.post("http://localhost:3000/movie/detail",{movie_id:this.movie_id}).then(function(t){e.detail=t.body.data[0],e.detail.movieVideo?e.playerOptions.sources[0].src=e.detail.movieVideo:e.playerOptions.sources[0].src=e.detail.moviePreVideo,console.log(e.$route.query.id),console.log(e.playerOptions.sources[0].src)})},methods:{support:function(e){var t=this;sessionStorage.getItem(this.movie_id)?this.$Notice.info({title:"已经点过赞啦！"}):this.$http.post("http://localhost:3000/users/support",{movie_id:this.movie_id}).then(function(e){var o=e.body;console.log(o),0===o.status?t.$http.post("http://localhost:3000/users/showNumber",{movie_id:t.movie_id}).then(function(e){console.log(e.body.data),t.detail.movieNumSuppose=e.body.data.movieNumSuppose,console.log("点赞测试："+t.detail.movieNumSuppose+"更新："+e.body.data.movieNumSuppose),sessionStorage.setItem(t.movie_id,"1"),t.$Notice.info({title:"点赞成功"})}):t.$Notice.error({title:o.message})})},movieDownload:function(e){var t=this;this.$http.post("http://localhost:3000/movie/download",{movie_id:this.movie_id}).then(function(e){1==e.status?t.$Notice.info({title:e.message}):(t.$http.post("http://localhost:3000/users/showNumber",{movie_id:t.movie_id}).then(function(e){t.detail.movieNumDownload=e.body.data.movieNumDownload}),""!=e.data.data?window.location=e.data.data:t.$Message.error("该视频暂未提供下载资源"))})}}}),b={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("div",[o("movie-index-header")],1),e._v(" "),o("div",{staticClass:"contentMain",staticStyle:{"margin-left":"80px"}},[o("Card",{staticStyle:{width:"40%",height:"350px",margin:"auto",border:"#88B091 2px dashed",float:"left","padding-bottom":"20px"}},[o("div",{staticStyle:{float:"left","border-right":"2px #88B091 dashed","padding-right":"40px","margin-right":"20px"}},[o("h1",[e._v(e._s(e.detail.movieName))]),e._v(" "),o("div",[o("img",{staticClass:"headerImg",attrs:{src:e.detail.movieImg}}),e._v(" "),o("div",[o("Rate",{attrs:{"show-text":"","allow-half":"",disabled:!0},model:{value:e.detail.movieGrade,callback:function(t){e.$set(e.detail,"movieGrade",t)},expression:"detail.movieGrade"}},[o("span",{staticStyle:{color:"#f5a623"}},[e._v(e._s(e.detail.movieGrade))])])],1),e._v(" "),o("div",{staticClass:"viewNum",staticStyle:{"text-decoration":"underline",margin:"5px"}},[o("div",{staticClass:"btnPosition",on:{click:function(t){return e.support()}}})]),e._v(" "),o("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"error",ghost:""},on:{click:function(t){return e.support()}}},[e._v("点赞次数："+e._s(e.detail.movieNumSuppose))]),e._v(" "),o("span",{staticStyle:{"margin-left":"10px","text-decoration":"underline"},on:{click:function(t){return e.movieDownload()}}},[o("span",{staticStyle:{cursor:"pointer"}},[e._v("下载次数："+e._s(e.detail.movieNumDownload))])])],1)]),e._v(" "),o("div",{staticStyle:{padding:"10px","text-align":"left"}},[o("p",{staticStyle:{"text-align":"left"}},[e._v("简介：")]),e._v(" "),o("p",{staticStyle:{"text-indent":"1em"}},[e._v(e._s(e.detail.movieInfo))])])])],1),e._v(" "),o("div",[o("Card",{staticStyle:{width:"50%","margin-right":"80px",border:"#88B091 2px dashed",height:"350px",float:"right"}},[o("video-player",{staticClass:"vjs-custom-skin",attrs:{options:e.playerOptions}})],1)],1),e._v(" "),o("div",{staticStyle:{clear:"both","margin-top":"380px"}},[o("comment",{attrs:{movie_id:e.movie_id}})],1)])},staticRenderFns:[]};var y=o("VU/8")(_,b,!1,function(e){o("Fvux")},"data-v-85a2b8c4",null).exports,x={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer"},[t("div",{staticClass:"footer"})])}]};var I={name:"loginPage",components:{CommonFooter:o("VU/8")({},x,!1,function(e){o("5yyP")},null,null).exports,MovieIndexHeader:l.a},data:function(){return{username:"",password:"",userMail:"",userNewPassword:"",userRePassword:"",value1:!1}},methods:{userLogin:function(e){var t=this;this.$http.post("http://localhost:3000/users/login",{username:this.username,password:this.password}).then(function(e){if(0===e.body.status){e.body.data.token,t.username;sessionStorage.setItem("token",e.body.data.token),sessionStorage.setItem("username",t.username),sessionStorage.setItem("_id",e.body.data.user[0]._id),t.$Notice.success({title:"欢迎登录！"+t.username}),e.body.data.user[0].userAdmin?t.$router.push({path:"admin",query:{id:e.body.data.user[0]._id}}):t.$router.push({path:"/"})}else t.$Modal.error({title:"登录失败",content:e.body.message})})},userRegister:function(e){this.$router.push({path:"registerPage"})},forgetPassword:function(e){this.$router.push({path:"forgetPassword"})},findPassword:function(e){var t=this;this.$http.post("http://localhost:3000/users/findPassword",{username:this.username,userMail:this.userMail,userNewPassword:this.userNewPassword,userRePassword:this.userRePassword}).then(function(e){0===e.body.status?(t.Find=!1,t.$Modal.success({title:e.body.message})):t.$Modal.error({title:e.body.message})})}}},k={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"back"},[o("div",{staticClass:"container"},[o("movie-index-header")],1),e._v(" "),o("div",{staticClass:"bbox"}),e._v(" "),o("div",{staticClass:"box"},[o("div",{staticStyle:{width:"20%","padding-top":"8%"}},[o("div",{staticClass:"demo-avatar"},[o("Avatar",{staticStyle:{"background-color":"#88B091"},attrs:{shape:"square",icon:"ios-person",size:"large"}})],1),e._v(" "),o("div",{staticClass:"box"},[o("i-input",{attrs:{type:"text",size:"large",placeholder:"请输入用户名",autofocus:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}},[o("Icon",{attrs:{slot:"prefix",type:"ios-person"},slot:"prefix"})],1)],1),e._v(" "),o("div",{staticClass:"box"},[o("i-input",{attrs:{type:"password",size:"large",placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[o("Icon",{attrs:{slot:"prefix",type:"ios-lock"},slot:"prefix"})],1)],1)])]),e._v(" "),o("div",{staticClass:"box"},[o("i-button",{staticStyle:{"margin-left":"10px",color:"#88B091","background-color":"white",border:"#88B091 1px solid"},attrs:{type:"success",size:"large"},on:{click:function(t){return e.userRegister()}}},[e._v("注册")]),e._v(" "),o("i-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"large"},on:{click:e.userLogin}},[e._v("登 录")]),e._v(" "),o("i-button",{staticStyle:{color:"#88B091","background-color":"white",border:"none"},attrs:{type:"default",size:"large"},nativeOn:{click:function(t){e.value1=!0}}},[e._v("忘记密码\n    ")])],1),e._v(" "),o("div"),e._v(" "),o("Drawer",{attrs:{width:"380px",title:"修改密码：",closable:!1},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},[o("div",{staticStyle:{margin:"20px"}},[o("Card",[o("Form",{attrs:{"label-width":60}},[o("FormItem",{attrs:{label:"用户名"}},[o("Input",{attrs:{placeholder:"请输入用户名..."},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),o("FormItem",{attrs:{label:"用户邮箱"}},[o("Input",{attrs:{placeholder:"请输入用户邮箱..."},model:{value:e.userMail,callback:function(t){e.userMail=t},expression:"userMail"}})],1),e._v(" "),o("FormItem",{attrs:{label:"新密码"}},[o("Input",{attrs:{type:"password",placeholder:"请输入新密码..."},model:{value:e.userNewPassword,callback:function(t){e.userNewPassword=t},expression:"userNewPassword"}})],1),e._v(" "),o("FormItem",{attrs:{label:"确认密码"}},[o("Input",{attrs:{type:"password",placeholder:"再次输入新密码..."},model:{value:e.userRePassword,callback:function(t){e.userRePassword=t},expression:"userRePassword"}})],1),e._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.findPassword()}}},[e._v("重置密码")]),e._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},nativeOn:{click:function(t){e.value1=!1}}},[e._v("取消")])],1)],1)],1)],1)])],1)},staticRenderFns:[]};var S=o("VU/8")(I,k,!1,function(e){o("b/oA")},"data-v-7cd8f8a0",null).exports,w={name:"registerPage",components:{MovieIndexHeader:l.a},data:function(){return{username:"",password:"",rePassword:"",userMail:"",userPhone:"",num:""}},methods:{userRegister:function(e){var t=this;if(this.password!==this.rePassword)this.$Modal.error({title:"两次密码不一致"});else if(0==this.num.length)this.$Modal.error({title:"请输入验证码"});else{var o={username:this.username,password:this.password,userMail:this.userMail,userPhone:this.userPhone,userAvatar:"https://dev-file.iviewui.com/userinfoPDvn9gKWYihR24SpgC319vXY8qniCqj4/avatar",num:this.num};this.$http.post("http://localhost:3000/users/register",o).then(function(e){1==e.body.status?t.$Modal.error({title:"注册失败",content:e.body.message}):(t.$Modal.success({title:e.body.message}),t.$router.go(-1))})}},sendEmail:function(e){var t=this;if(0==this.userMail.length)this.$Modal.error({title:"请输入邮箱"});else{var o={userMail:this.userMail};this.$http.post("http://localhost:3000/users/mail",o).then(function(e){1==e.body.status?t.$Modal.success({title:"发送验证码失败"}):t.$Modal.success({title:"发送验证码成功，请查收邮件并填写验证码"})})}}}},$={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"container"},[o("movie-index-header")],1),e._v(" "),o("div",{staticClass:"bbox"}),e._v(" "),o("div",{staticClass:"box"},[o("div",{staticStyle:{width:"20%","padding-top":"8%"}},[o("h2",{staticStyle:{color:"#88B091","font-size":"25px","margin-left":"auto"}},[e._v("Register")]),e._v(" "),o("div",{staticClass:"box"},[o("i-input",{attrs:{size:"large",type:"text",placeholder:"请输入用户名",autofocus:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}},[o("Icon",{attrs:{slot:"prefix",type:"ios-person"},slot:"prefix"})],1)],1),e._v(" "),o("div",{staticClass:"box"},[o("i-input",{attrs:{size:"large",type:"password",placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[o("Icon",{attrs:{slot:"prefix",type:"ios-lock"},slot:"prefix"})],1)],1),e._v(" "),o("div",{staticClass:"box"},[o("i-input",{attrs:{size:"large",type:"password",placeholder:"请再次输入密码"},model:{value:e.rePassword,callback:function(t){e.rePassword=t},expression:"rePassword"}},[o("Icon",{attrs:{slot:"prefix",type:"ios-lock"},slot:"prefix"})],1)],1),e._v(" "),o("div",{staticClass:"box"},[o("i-input",{attrs:{size:"large",type:"text",placeholder:"请输入邮箱",autofocus:""},model:{value:e.userMail,callback:function(t){e.userMail=t},expression:"userMail"}},[o("Icon",{attrs:{slot:"prefix",type:"ios-mail"},slot:"prefix"})],1)],1),e._v(" "),o("div",{staticClass:"box"},[o("i-input",{attrs:{size:"large",type:"text",placeholder:"请输入验证码",autofocus:""},model:{value:e.num,callback:function(t){e.num=t},expression:"num"}},[o("Icon",{attrs:{slot:"prefix",type:"ios-mail"},slot:"prefix"})],1),e._v(" "),o("i-button",{staticStyle:{"margin-left":"10px",color:"#88B091","background-color":"white",border:"#88B091 1px solid",width:"200px",height:"40px","font-size":"larger"},on:{click:function(t){return e.sendEmail()}}},[e._v("\n          发送验证码\n        ")])],1),e._v(" "),o("div",{staticClass:"box"},[o("i-button",{staticStyle:{"margin-left":"10px","background-color":"#88B091",border:"#88B091",width:"200px",height:"40px","font-size":"larger"},attrs:{type:"success"},on:{click:function(t){return e.userRegister()}}},[e._v("\n          注册\n        ")])],1)])])])},staticRenderFns:[]};var M=o("VU/8")(w,$,!1,function(e){o("0un7")},"data-v-24149e46",null).exports,N={name:"MovieNameList",data:function(){return{movieItems:[],movieItem:[]}},components:{MovieIndexHeader:l.a,MoviesList:c.a},methods:{init:function(){var e=this;console.log(this.movieName),this.movieName=this.$route.query.movieName,console.log(this.$route.query.movieName),this.$http.post("http://localhost:3000/showName",{movieName:this.movieName}).then(function(t){e.movieItem=t.body.data}),this.info(!0)},info:function(e){this.$Notice.open({title:"以下为搜索电影 “"+this.movieName+"” 结果",desc:e?"":"Here is the notification description. Here is the notification description. "})}},created:function(){this.init()},watch:{$route:function(e,t){this.init()}}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",[t("movie-index-header")],1),this._v(" "),t("div",{staticClass:"contentMain"},[t("div",[t("div",{staticClass:"contentLeft"},[t("div",this._l(this.movieItem,function(e){return t("movies-list",{key:e._id,attrs:{id:e._id,movieName:e.movieName,movieNumSuppose:e.movieNumSuppose,movieImg:e.movieImg}})}),1)])])])])},staticRenderFns:[]};var P=o("VU/8")(N,D,!1,function(e){o("cnNU")},"data-v-033b3195",null).exports,F={name:"uploadtest",data:function(){return{imageUrl:"",token:{},domain:"https://upload-z2.qiniup.com",qiniuaddr:"qmaqpkabs.hn-bkt.clouddn.com"}},methods:{upqiniu:function(e){var t=this;console.log(e);var o={headers:{"Content-Type":"multipart/form-data"}},i="";i="image/png"===e.file.type?"png":"jpg";var a="whh"+(new Date).getTime()+Math.floor(100*Math.random())+"."+i;this.axios.get("/upload/token").then(function(i){console.log(i);var n=new FormData;n.append("file",e.file),n.append("token",i.data),n.append("key",a),t.axios.post(t.domain,n,o).then(function(e){t.imageUrl="http://"+t.qiniuaddr+"/"+e.data.key,console.log(t.imageUrl)})})},upqiniu2:function(e){this.axios.post("/upload/img",{imgData:e.file}).then(function(e){console.log(e)})},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,o=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),o||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&o}}},q={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"upload"},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:this.domain,"http-request":this.upqiniu,"show-file-list":!1,"before-upload":this.beforeUpload}},[this.imageUrl?t("img",{staticClass:"avatar",attrs:{src:this.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},staticRenderFns:[]};var R=o("VU/8")(F,q,!1,function(e){o("9jN5")},"data-v-a8e6e5cc",null).exports,C=(o("DF6U"),o("Xxa5")),T=o.n(C),U=o("exGp"),A=o.n(U),B={name:"changeInfo",components:{MovieIndexHeader:l.a},data:function(){return{username:"",userAvatar:"",imageUrl:this.userAvatar,domain:"https://up-z2.qiniup.com",qiniuaddr:"qmaqpkabs.hn-bkt.clouddn.com",qiniuForm:{key:"",token:""}}},created:function(){var e=this,t=this.$route.query.id;console.log(t+"ttt"),t?this.$http.post("http://localhost:3000/users/showUser",{user_id:t}).then(function(t){0===t.body.status?(e.username=t.body.data[0].username,e.userAvatar=t.body.data[0].userAvatar,e.imageUrl=e.userAvatar):(console.log(t.body),e.$Notice.info({title:t.body.message}))}):this.$Notice.info({title:"请先登录"})},methods:{change:function(e){var t=this,o=this.$route.query.id;o?this.$http.post("http://localhost:3000/users/changeInfo",{user_id:o,username:this.username,userAvatar:this.imageUrl}).then(function(e){0===e.body.status?(console.log(e.body),o?t.$http.post("http://localhost:3000/users/showUser",{user_id:o}).then(function(e){0===e.body.status?(console.log("更新"+e.body),t.username=e.body.data[0].username,t.userAvatar=e.body.data[0].userAvatar,t.$Notice.success({title:"修改成功"})):(console.log(e.body),t.$Notice.info({title:e.body.message}))}):t.$Notice.info({title:"请先登录"})):(console.log(e.body),t.$Notice.info({title:e.body.message}))}):this.$Notice.info({title:"请先填写用户名"})},beforeUpload:function(e){var t=this;return A()(T.a.mark(function o(){var i,a,n,s;return T.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2,i||t.$message.error("上传头像图片只能是 JPG或PNG 格式!"),a||t.$message.error("上传头像图片大小不能超过 2MB!"),!i||0!=a){o.next=6;break}return o.abrupt("return",!1);case 6:return n="image/jpeg"==e.type?"jpg":"png",o.next=9,t.axios.get("http://127.0.0.1:3000/upload/token");case 9:return s=o.sent,console.log(s),console.log(s.data.data.token),t.qiniuForm={key:"avatar_test_"+(new Date).getTime()+Math.floor(100*Math.random())+"."+n,token:s.data.data.token},t.$Notice.info({title:"正在上传头像"}),o.abrupt("return",!0);case 15:case"end":return o.stop()}},o,t)}))()},uploadSuccess:function(e,t,o){this.imageUrl="http://qmaqpkabs.hn-bkt.clouddn.com/"+e.key,console.log(this.imageUrl),this.$Notice.info({title:"上传完成"}),this.change()}}},V={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"container"},[o("movie-index-header")],1),e._v(" "),o("div",{staticClass:"bbox"}),e._v(" "),o("div",{staticClass:"box"},[o("div",{staticStyle:{width:"15%","padding-top":"8%"}},[o("h2",{staticStyle:{color:"#88B091","font-size":"25px","margin-left":"auto"}},[e._v("Change Info")]),e._v(" "),o("div",{staticClass:"demo-avatar",staticStyle:{margin:"20px"}},[o("Img",{staticStyle:{border:"#88B091 2px dotted",width:"80px","border-radius":"5px"},attrs:{shape:"square",src:e.userAvatar}})],1),e._v(" "),o("div",{staticClass:"box"},[o("Input",{attrs:{size:"large",placeholder:"请输入用户名",value:e.username},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),o("div",{staticClass:"box",staticStyle:{margin:"auto auto"}},[o("Upload",{staticClass:"avatar-uploader",attrs:{"show-upload-list":!1,data:e.qiniuForm,"before-upload":e.beforeUpload,"on-success":e.uploadSuccess,limit:1,action:"https://up-z2.qiniup.com"}},[o("Button",{staticStyle:{"margin-top":"3px"},attrs:{icon:"ios-cloud-upload-outline"}},[e._v("上传新头像")])],1),e._v(" "),o("i-button",{staticStyle:{"margin-left":"10px","background-color":"#88B091",border:"#88B091","font-size":"larger"},attrs:{type:"success"},on:{click:function(t){return e.change()}}},[e._v("\n          完成修改\n        ")])],1)])])])},staticRenderFns:[]};var z=o("VU/8")(B,V,!1,function(e){o("wY/b")},"data-v-74a17241",null).exports,G={name:"adminPage",components:{MovieIndexHeader:l.a},data:{return:function(){}}},L={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("movie-index-header")],1),e._v(" "),o("div",{staticStyle:{position:"fixed",height:"100%","background-color":"white"}},[o("Menu",{staticStyle:{width:"180px"},attrs:{"open-names":["1"]}},[o("Submenu",{attrs:{name:"1"}},[o("template",{slot:"title"},[o("Icon",{attrs:{type:"ios-film-outline"}}),e._v("\n          电影管理\n        ")],1),e._v(" "),o("RouterLink",{attrs:{to:"/movieAdd"}},[o("MenuItem",{attrs:{name:"1-1"}},[e._v("电影添加")])],1),e._v(" "),o("RouterLink",{attrs:{to:"/movieAdmin"}},[o("MenuItem",{attrs:{name:"1-2"}},[e._v("电影管理")])],1),e._v(" "),o("RouterLink",{attrs:{to:"/recommendList"}},[o("MenuItem",{attrs:{name:"1-3"}},[e._v("推荐电影")])],1),e._v(" "),o("RouterLink",{attrs:{to:"/recommendAdmin"}},[o("MenuItem",{attrs:{name:"1-4"}},[e._v("新增推荐")])],1)],2),e._v(" "),o("Submenu",{attrs:{name:"2"}},[o("template",{slot:"title"},[o("Icon",{attrs:{type:"ios-ionitron-outline"}}),e._v("\n          用户管理\n        ")],1),e._v(" "),o("RouterLink",{attrs:{to:"/adminUser"}},[o("MenuItem",{attrs:{name:"2-1"}},[e._v("查看用户")])],1)],2)],1)],1)])},staticRenderFns:[]};var E=o("VU/8")(G,L,!1,function(e){o("QIZ5")},"data-v-aa5757e4",null).exports,O={name:"movieAdd",components:{MovieIndexHeader:l.a},data:function(){return{formItem:{slider:[20,50],textarea:"",movieName:"",movieImg:"",movieVideo:"",movieDownload:"",movieTime:"",movieInfo:"",movieMainPage:!1,more:!1,moviePreVideo:"",movieTag:"",movieGrade:4},ruleValidate:{movieName:[{required:!0,message:"电影名称不能为空",trigger:"blur"}],movieImg:[{required:!0,message:"电影图片不能为空",trigger:"blur"}],movieTag:[{required:!0,message:"电影类别不能为空",trigger:"change"}],movieInfo:[{required:!0,message:"电影简介不能为空",trigger:"blue"}]},domain:"https://up-z2.qiniup.com",qiniuaddr:"qmaqpkabs.hn-bkt.clouddn.com",qiniuForm:{key:"",token:""}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){t.$Message.success("校验成功!");var o=void 0;void 0!==sessionStorage.getItem("username")?(o={username:sessionStorage.getItem("username"),token:sessionStorage.getItem("token"),user_id:sessionStorage.getItem("_id"),movieName:t.formItem.movieName,movieImg:t.formItem.movieImg,movieVideo:t.formItem.movieVideo,movieDownload:t.formItem.movieDownload,movieTime:t.formItem.movieTime,movieMainPage:t.formItem.movieMainPage,movieInfo:t.formItem.movieInfo,moviePreVideo:t.formItem.moviePreVideo,movieTag:t.formItem.movieTag,movieGrade:t.formItem.movieGrade},console.log(o),t.$http.post("http://localhost:3000/admin/movieAdd",o).then(function(e){0===e.body.status?(t.$Modal.success({title:e.body.message}),t.handleReset("formItem")):t.$Modal.error({title:e.body.message})})):t.$Modal.error({title:"请先登录"})}else t.$Message.error("Fail!")})},handleReset:function(e){this.$refs[e].resetFields()},changeMore:function(){this.formItem.more=!0},beforeUpload:function(e){var t=this;return A()(T.a.mark(function o(){var i,a,n;return T.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if((i="image/jpeg"===e.type||"image/png"===e.type)||t.$message.error("上传图片只能是 JPG或PNG 格式!"),0!=i){o.next=4;break}return o.abrupt("return",!1);case 4:return a="image/jpeg"==e.type?"jpg":"png",o.next=7,t.axios.get("http://127.0.0.1:3000/upload/token");case 7:return n=o.sent,console.log(n),console.log(n.data.data.token),t.qiniuForm={key:"movieImg_test_"+(new Date).getTime()+Math.floor(100*Math.random())+"."+a,token:n.data.data.token},t.$Notice.info({title:"正在上传图片"}),o.abrupt("return",!0);case 13:case"end":return o.stop()}},o,t)}))()},uploadSuccess:function(e,t,o){this.formItem.movieImg="http://qmaqpkabs.hn-bkt.clouddn.com/"+e.key,this.$Notice.info({title:"上传完成"})},beforeUploadMovie:function(e){var t=this;return A()(T.a.mark(function o(){var i,a,n;return T.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(console.log("ssssccccc"),(i="video/mp4"===e.type)||t.$message.error("上传视频暂只支持 MP4 格式!"),0!=i){o.next=5;break}return o.abrupt("return",!1);case 5:return a="mp4",o.next=8,t.axios.get("http://127.0.0.1:3000/upload/token");case 8:return n=o.sent,console.log(n),console.log(n.data.data.token),t.qiniuForm={key:"movieVideo_test_"+(new Date).getTime()+Math.floor(100*Math.random())+"."+a,token:n.data.data.token},t.$Notice.info({title:"正在上传图片"}),o.abrupt("return",!0);case 14:case"end":return o.stop()}},o,t)}))()},uploadSuccessMovie:function(e,t,o){this.formItem.movieVideo="http://qmaqpkabs.hn-bkt.clouddn.com/"+e.key,this.$Notice.info({title:"上传完成"})}}},j={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("movie-index-header")],1),e._v(" "),o("Form",{ref:"formItem",staticStyle:{"text-align":"left",margin:"auto",width:"500px","padding-top":"30px"},attrs:{rules:e.ruleValidate,model:e.formItem,"label-width":80}},[o("FormItem",{attrs:{label:"电影名称",prop:"movieName"}},[o("Input",{attrs:{placeholder:"请输入电影名称"},model:{value:e.formItem.movieName,callback:function(t){e.$set(e.formItem,"movieName",t)},expression:"formItem.movieName"}})],1),e._v(" "),o("FormItem",{attrs:{label:"电影图片",prop:"movieImg"}},[o("Upload",{attrs:{type:"drag",data:e.qiniuForm,"before-upload":e.beforeUpload,"on-success":e.uploadSuccess,limit:1,action:"https://up-z2.qiniup.com"}},[o("div",{staticStyle:{padding:"20px 0"}},[o("Icon",{staticStyle:{color:"#88B091"},attrs:{type:"ios-cloud-upload",size:"52"}}),e._v(" "),o("p",[e._v("请选择电影图片")])],1)]),e._v(" "),o("Input",{attrs:{placeholder:"请输入电影图片地址"},model:{value:e.formItem.movieImg,callback:function(t){e.$set(e.formItem,"movieImg",t)},expression:"formItem.movieImg"}})],1),e._v(" "),o("FormItem",{attrs:{label:"电影简介",prop:"movieInfo"}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:30},placeholder:"请输入电影简介"},model:{value:e.formItem.movieInfo,callback:function(t){e.$set(e.formItem,"movieInfo",t)},expression:"formItem.movieInfo"}})],1),e._v(" "),o("FormItem",{attrs:{label:"电影类别",prop:"movieTag"}},[o("Select",{model:{value:e.formItem.movieTag,callback:function(t){e.$set(e.formItem,"movieTag",t)},expression:"formItem.movieTag"}},[o("Option",{attrs:{value:"1"}},[e._v("动画")]),e._v(" "),o("Option",{attrs:{value:"0"}},[e._v("冒险")]),e._v(" "),o("Option",{attrs:{value:"2"}},[e._v("剧情")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"电影分数",prop:"movieGrade"}},[o("Rate",{attrs:{"show-text":"","allow-half":""},model:{value:e.formItem.movieGrade,callback:function(t){e.$set(e.formItem,"movieGrade",t)},expression:"formItem.movieGrade"}},[o("span",{staticStyle:{color:"#f5a623"}},[e._v(e._s(e.formItem.movieGrade))])])],1),e._v(" "),o("FormItem",{attrs:{label:"主页电影"}},[o("i-switch",{attrs:{size:"large"},model:{value:e.formItem.movieMainPage,callback:function(t){e.$set(e.formItem,"movieMainPage",t)},expression:"formItem.movieMainPage"}},[o("span",{attrs:{slot:"open"},slot:"open"},[e._v("On")]),e._v(" "),o("span",{attrs:{slot:"close"},slot:"close"},[e._v("Off")])])],1),e._v(" "),o("FormItem",{staticStyle:{"text-align":"center"}},[o("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formItem")}}},[e._v("提交")]),e._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("formItem")}}},[e._v("Reset")]),e._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",ghost:""},on:{click:e.changeMore}},[e._v("输入更多详细信息")])],1),e._v(" "),1==e.formItem.more?o("div",[o("FormItem",{attrs:{label:"电影视频",prop:"movieVideo"}},[o("Upload",{staticStyle:{"margin-top":"10px"},attrs:{type:"drag",data:e.qiniuForm,"before-upload":e.beforeUploadMovie,"on-success":e.uploadSuccessMovie,accept:".mp4",limit:1,action:"https://up-z2.qiniup.com"}},[o("div",{staticStyle:{padding:"20px 0"}},[o("Icon",{staticStyle:{color:"#88B091"},attrs:{type:"ios-cloud-upload",size:"52"}}),e._v(" "),o("p",[e._v("上传电影")])],1)]),e._v(" "),o("Input",{attrs:{placeholder:"请输入电影视频播放地址"},model:{value:e.formItem.movieVideo,callback:function(t){e.$set(e.formItem,"movieVideo",t)},expression:"formItem.movieVideo"}})],1),e._v(" "),o("FormItem",{attrs:{label:"电影下载",prop:"movieDownload"}},[o("Input",{attrs:{placeholder:"请输入电影下载地址"},model:{value:e.formItem.movieDownload,callback:function(t){e.$set(e.formItem,"movieDownload",t)},expression:"formItem.movieDownload"}})],1),e._v(" "),o("FormItem",{attrs:{label:"电影预告片",prop:"moviePreVideo"}},[o("Input",{attrs:{placeholder:"请输入电影预告片播放地址"},model:{value:e.formItem.moviePreVideo,callback:function(t){e.$set(e.formItem,"moviePreVideo",t)},expression:"formItem.moviePreVideo"}})],1),e._v(" "),o("FormItem",{attrs:{label:"上映时间",prop:"movieTime"}},[o("Input",{attrs:{placeholder:"请输入电影上映时间"},model:{value:e.formItem.movieTime,callback:function(t){e.$set(e.formItem,"movieTime",t)},expression:"formItem.movieTime"}})],1)],1):e._e()],1)],1)},staticRenderFns:[]};var H=o("VU/8")(O,j,!1,function(e){o("OKa7")},"data-v-97a31740",null).exports,X={name:"adminUser",components:{AdminPage:E},data:function(){var e=this;return{columns:[{title:"用户头像",slot:"userAvatar",align:"center"},{title:"用户名称",slot:"username",align:"center"},{title:"用户密码",slot:"password",align:"center"},{title:"用户邮箱",slot:"userMail",width:"200px",align:"center"},{title:"是否管理员",slot:"userAdmin",width:"130px",align:"center",filters:[{label:"true",value:"true"},{label:"false",value:"false"}],filterMethod:function(e,t){return"true"===e?!0===t.userAdmin:!1===t.userAdmin}},{title:"是否封停",slot:"userStop",width:"130px",align:"center",filters:[{label:"true",value:"true"},{label:"false",value:"false"}],filterMethod:function(e,t){return"true"===e?!0===t.userStop:!1===t.userStop}},{title:"封停/解封",slot:"stop",width:100},{title:"编辑",slot:"action",align:"center",width:160},{title:"操作",key:"action",width:180,align:"center",render:function(t,o){return t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"5px"},on:{click:function(){e.show(o.index)}}},"查看"),t("Button",{props:{type:"error"},on:{click:function(){e.remove(o.index)}}},"删除")])}}],data6:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park"}],adminList:[{value:"true",label:"true"},{value:"false",label:"false"}],showDetail:!1,userDetail:"",userData:[],editIndex:-1,editName:"",editPassword:"",editMail:"",editAdmin:"",editStop:"",loadFlag:!0,user_stop:""}},created:function(){var e=this,t={username:sessionStorage.getItem("username"),token:sessionStorage.getItem("token"),user_id:sessionStorage.getItem("_id")};this.$http.post("http://localhost:3000/admin/showUser",t).then(function(t){e.userData=t.body.data,e.loadFlag=!1,console.log(t.body)})},methods:{change:function(e){},handleStop:function(e,t){var o=this,i=void 0;if(void 0!==sessionStorage.getItem("username")){if(sessionStorage.getItem("username")===this.userData[t].username)return void this.$Modal.error({title:"不能封禁自己的账户"});i={username:sessionStorage.getItem("username"),token:sessionStorage.getItem("token"),user_id:sessionStorage.getItem("_id"),stopUser_id:this.userData[t]._id},console.log(i),this.$http.post("http://localhost:3000/admin/stopUser",i).then(function(e){0===e.body.status?(o.$Notice.success({title:e.body.message,duration:3,top:150}),o.userData[t].userStop=!0,o.editIndex=-1,o.created):o.$Modal.error({title:e.body.message})})}else this.$Modal.error({title:"请先登录"})},handleCancelStop:function(e,t){var o=this,i=void 0;void 0!==sessionStorage.username?(i={username:sessionStorage.getItem("username"),token:sessionStorage.getItem("token"),user_id:sessionStorage.getItem("_id"),cancelStopUser_id:this.userData[t]._id},console.log(i),this.$http.post("http://localhost:3000/admin/cancelStopUser",i).then(function(e){0===e.body.status?(o.$Notice.success({title:e.body.message,duration:3,top:150}),o.userData[t].userStop=!1,o.editIndex=-1,o.created):o.$Modal.error({title:e.body.message})})):this.$Modal.error({title:"请先登录"})},handleEdit:function(e,t){this.editAdmin=e.userAdmin,this.editIndex=t},handleSave:function(e){var t=this,o=void 0;void 0!==sessionStorage.getItem("username")?(o={username:sessionStorage.getItem("username"),token:sessionStorage.getItem("token"),user_id:sessionStorage.getItem("_id"),updateUser_id:this.userData[e]._id,userAdmin:this.editAdmin},console.log(o),this.$http.post("http://localhost:3000/admin/updateAdmin",o).then(function(o){0===o.body.status?(t.$Notice.success({title:o.body.message,duration:3,top:150}),t.userData[e].userAdmin=t.editAdmin,t.editIndex=-1):t.$Modal.error({title:o.body.message})})):this.$Modal.error({title:"请先登录"})},show:function(e){this.userDetail=" 用户ID："+this.userData[e]._id+"<br> 用户名称："+this.userData[e].username+"<br>用户密码："+this.userData[e].password+"<br>用户邮箱："+this.userData[e].userMail+"<br> 是否管理员："+this.userData[e].userAdmin+"<br> 是否封停："+this.userData[e].userStop,this.showDetail=!0,this.$Modal.info({title:"用户信息",content:this.userDetail})},remove:function(e){var t=this,o=void 0;void 0!==sessionStorage.username?(o={username:sessionStorage.getItem("username"),token:sessionStorage.getItem("token"),user_id:sessionStorage.getItem("_id"),deleteUser_id:this.userData[e]._id},this.$Modal.confirm({title:"确认删除此条数据吗？",onOk:function(){t.$http.post("http://localhost:3000/admin/delUser",o).then(function(o){0===o.body.status?(t.$Notice.success({title:o.body.message,duration:3,top:150}),t.userData.splice(e,1)):t.$Modal.error({title:o.body.message})})},onCancel:function(){}})):this.$Modal.error({title:"请先登录"})}}},Y={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("admin-page")],1),e._v(" "),o("div",{staticStyle:{margin:"30px 20px 20px 200px","padding-top":"30px"}},[o("Table",{ref:"table",attrs:{loading:e.loadFlag,columns:e.columns,data:e.userData,height:"700",size:"large",border:!0},scopedSlots:e._u([{key:"userAvatar",fn:function(e){var t=e.row;return e.index,[o("img",{staticStyle:{width:"50px"},attrs:{src:t.userAvatar}})]}},{key:"username",fn:function(t){var i=t.row;return t.index,[o("span",[e._v(e._s(i.username.length<=18?i.username:i.username.substring(0,18)+"..."))])]}},{key:"password",fn:function(t){var i=t.row;return t.index,[o("span",[e._v(e._s(i.password.length<=30?i.password:i.password.substring(0,25)+"..."))])]}},{key:"userMail",fn:function(t){var i=t.row;return t.index,[o("span",[e._v(e._s(i.userMail))])]}},{key:"userAdmin",fn:function(t){var i=t.row,a=t.index;return[o("label",[e.editIndex===a?o("Select",{staticStyle:{width:"95%"},model:{value:e.editAdmin,callback:function(t){e.editAdmin=t},expression:"editAdmin"}},e._l(e.adminList,function(t){return o("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1):o("span",[e._v(e._s(i.userAdmin))])],1)]}},{key:"userStop",fn:function(t){var i=t.row;return t.index,[o("span",[e._v(e._s(i.userStop))])]}},{key:"stop",fn:function(t){var i=t.row,a=t.index;return[o("div",[o("Button",{directives:[{name:"show",rawName:"v-show",value:0==i.userStop,expression:"row.userStop == false"}],key:1,attrs:{type:"error",ghost:""},on:{click:function(t){return e.handleStop(i,a)}}},[e._v("封停")]),e._v(" "),o("Button",{directives:[{name:"show",rawName:"v-show",value:1==i.userStop,expression:"row.userStop == true"}],key:2,attrs:{type:"success",ghost:""},on:{click:function(t){return e.handleCancelStop(i,a)}}},[e._v("解封")])],1)]}},{key:"action",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("div",[o("Button",{attrs:{type:"success",ghost:""},on:{click:function(t){return e.handleSave(a)}}},[e._v("保存")]),e._v(" "),o("Button",{attrs:{type:"info",ghost:""},on:{click:function(t){e.editIndex=-1}}},[e._v("取消")])],1):o("div",[o("Button",{on:{click:function(t){return e.handleEdit(i,a)}}},[e._v("编辑")])],1)]}}])})],1)])},staticRenderFns:[]};var J=o("VU/8")(X,Y,!1,function(e){o("rNuU")},"data-v-2b00f556",null).exports,Q={name:"movieAdmin",components:{MovieIndexHeader:l.a,AdminPage:E},data:function(){var e=this;return{loadFlag:!0,columns:[{title:"电影名称",slot:"movieName",align:"center"},{title:"图片地址",slot:"movieImg",align:"center"},{title:"电影简介",slot:"movieInfo",width:"150px"},{title:"预告片",slot:"movieVideo",align:"center"},{title:"播放地址",slot:"movieDownload"},{title:"上映时间",slot:"movieTime",align:"center"},{title:"点赞数",slot:"movieNumSuppose",align:"center"},{title:"电影分数",slot:"movieGrade",align:"center"},{title:"主页",slot:"movieMainPage",align:"center",filters:[{label:"true",value:"true"},{label:"false",value:"false"}],filterMethod:function(e,t){return"true"===e?!0===t.movieMainPage:!1===t.movieMainPage}},{title:"编辑",slot:"action",width:160,align:"center"},{title:"操作",key:"action",width:140,align:"center",render:function(t,o){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.show(o.index)}}},"查看"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.remove(o.index)}}},"删除")])}}],mainPageList:[{value:"true",label:"true"},{value:"false",label:"false"}],showDetail:!1,movieDetail:"",movieData:[],editIndex:-1,editName:"",editImg:"",editVideo:"",editDownload:"",editTime:"",editNumSuppose:"",editMovieGrade:"",editMainPage:"",editMovieInfo:""}},created:function(){var e=this;this.$http.get("http://localhost:3000/admin/movie").then(function(t){e.movieData=t.body.data,e.loadFlag=!1,console.log(t.body.data)})},methods:{handleEdit:function(e,t){this.editId=e._id,this.editName=e.movieName,this.editImg=e.movieImg,this.editVideo=e.movieVideo,this.editDownload=e.movieDownload,this.editTime=e.movieTime,this.editMovieGrade=e.movieGrade,this.editNumDownload=e.movieNumDownload,this.editMainPage=e.movieMainPage,this.editIndex=t,this.editMovieInfo=e.movieInfo},handleSave:function(e){var t=this,o=void 0;void 0!==sessionStorage.username?(o={username:sessionStorage.username,token:sessionStorage.token,user_id:sessionStorage._id,movie_id:this.editId,movieName:this.editName,movieImg:this.editImg,movieVideo:this.editVideo,movieDownload:this.editDownload,movieTime:this.editTime,movieNumSuppose:this.editNumSuppose,movieGrade:this.editMovieGrade,movieMainPage:this.editMainPage,movieInfo:this.editMovieInfo},console.log(o),this.$http.post("http://localhost:3000/admin/movieUpdate",{movieData:o}).then(function(o){0===o.body.status?(t.$Notice.success({title:o.body.message,duration:3,top:150}),t.movieData[e].movieName=t.editName,t.movieData[e].movieImg=t.editImg,t.movieData[e].movieVideo=t.editVideo,t.movieData[e].movieDownload=t.editDownload,t.movieData[e].movieTime=t.editTime,t.movieData[e].movieNumSuppose=t.editNumSuppose,t.movieData[e].movieNumDownload=t.editNumDownload,t.movieData[e].movieMainPage=t.editMainPage,t.movieData[e].movieInfo=t.editMovieInfo,t.movieData[e].movieGrade=t.editMovieGrade,t.editIndex=-1):t.$Modal.error({title:o.body.message})})):this.$Modal.error({title:"请先登录"})},show:function(e){this.movieDetail=" 电影ID："+this.movieData[e]._id+"\n\n 电影名称："+this.movieData[e].movieName+"\n\n 图片地址："+this.movieData[e].movieImg+"\n\n 预告片："+this.movieData[e].moviePreVideo+"\n\n 观看地址："+this.movieData[e].movieDownload+"\n\n 上映时间："+this.movieData[e].movieTime+"\n\n 点赞数量："+this.movieData[e].movieNumSuppose+"\n\n 观看数量："+this.movieData[e].movieNumDownload+"\n\n 主页显示："+this.movieData[e].movieMainPage+"\n\n 电影简介："+this.movieData[e].movieInfo,this.showDetail=!0},remove:function(e){var t=this,o=void 0;void 0!==sessionStorage.username?(o={username:sessionStorage.username,token:sessionStorage.token,user_id:sessionStorage._id,movie_id:this.movieData[e]._id},this.$Modal.confirm({title:"确认删除此条数据吗？",onOk:function(){t.$http.post("http://localhost:3000/admin/movieDel",o).then(function(e){0===e.body.status?t.$Notice.success({title:e.body.message,duration:3,top:150}):t.$Modal.error({title:e.body.message})}),t.movieData.splice(e,1)},onCancel:function(){}})):this.$Modal.error({title:"请先登录"})}}},K={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("movie-index-header")],1),e._v(" "),o("div",[o("admin-page")],1),e._v(" "),o("div",{staticStyle:{margin:"30px 20px 20px 150px","padding-top":"30px"}},[o("i-col",{attrs:{span:"100",offset:"1"}},[o("Table",{ref:"table",attrs:{loading:e.loadFlag,columns:e.columns,data:e.movieData,height:"700",size:"large",border:!0},scopedSlots:e._u([{key:"movieName",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("Input",{attrs:{type:"text"},model:{value:e.editName,callback:function(t){e.editName=t},expression:"editName"}}):o("span",[e._v(e._s(i.movieName.length<=18?i.movieName:i.movieName.substring(0,18)+"..."))])]}},{key:"movieImg",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("Input",{attrs:{type:"text"},model:{value:e.editImg,callback:function(t){e.editImg=t},expression:"editImg"}}):o("Img",{staticStyle:{width:"50px",padding:"6px"},attrs:{src:i.movieImg}})]}},{key:"movieInfo",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("Input",{attrs:{type:"text"},model:{value:e.editMovieInfo,callback:function(t){e.editMovieInfo=t},expression:"editMovieInfo"}}):o("span",[e._v(e._s(i.movieInfo.length<=25?i.movieInfo:i.movieInfo.substring(0,25)+"..."))])]}},{key:"movieVideo",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("Input",{attrs:{type:"text"},model:{value:e.editVideo,callback:function(t){e.editVideo=t},expression:"editVideo"}}):o("span",[e._v(e._s(i.moviePreVideo.length<=25?i.moviePreVideo:i.moviePreVideo.substring(0,25)+"..."))])]}},{key:"movieDownload",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("Input",{attrs:{type:"text"},model:{value:e.editDownload,callback:function(t){e.editDownload=t},expression:"editDownload"}}):o("span",[e._v(e._s(i.movieDownload.length<=25?i.movieDownload:i.movieDownload.substring(0,25)+"..."))])]}},{key:"movieTime",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("Input",{attrs:{type:"text"},model:{value:e.editTime,callback:function(t){e.editTime=t},expression:"editTime"}}):o("span",[e._v(e._s(i.movieTime))])]}},{key:"movieNumSuppose",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("Input",{attrs:{type:"text"},model:{value:e.editNumSuppose,callback:function(t){e.editNumSuppose=t},expression:"editNumSuppose"}}):o("span",[e._v(e._s(i.movieNumSuppose))])]}},{key:"movieGrade",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("Input",{attrs:{type:"text"},model:{value:e.editMovieGrade,callback:function(t){e.editMovieGrade=t},expression:"editMovieGrade"}}):o("span",[e._v(e._s(i.movieGrade))])]}},{key:"movieMainPage",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("Select",{staticStyle:{width:"95%"},model:{value:e.editMainPage,callback:function(t){e.editMainPage=t},expression:"editMainPage"}},e._l(e.mainPageList,function(t){return o("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1):o("span",[e._v(e._s(i.movieMainPage))])]}},{key:"action",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("div",[o("Button",{staticStyle:{color:"green"},on:{click:function(t){return e.handleSave(a)}}},[e._v("保存")]),e._v(" "),o("Button",{staticStyle:{color:"red"},on:{click:function(t){e.editIndex=-1}}},[e._v("取消")])],1):o("div",[o("router-link",{attrs:{to:{path:"/adminMovieDetail",query:{movie_id:i._id}}}},[o("Button",{on:{click:function(t){return e.handleEdit(i,a)}}},[e._v("编辑")])],1)],1)]}}])}),e._v(" "),[o("Modal",{attrs:{fullscreen:"","footer-hide":"",title:"详细信息"},model:{value:e.showDetail,callback:function(t){e.showDetail=t},expression:"showDetail"}},[o("div",{attrs:{align:"center"}},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.movieDetail,expression:"movieDetail"}],staticStyle:{"font-size":"14px",padding:"10px"},attrs:{readonly:"",autofocus:"",rows:"30",cols:"100"},domProps:{value:e.movieDetail},on:{input:function(t){t.target.composing||(e.movieDetail=t.target.value)}}})])])]],2)],1)])},staticRenderFns:[]};var W=o("VU/8")(Q,K,!1,function(e){o("AXXA")},"data-v-4215c5aa",null).exports,Z={name:"recommendAdmin",components:{AdminPage:E,MovieIndexHeader:l.a},data:function(){return{recommend:{recommendTitle:"",recommendImg:"",recommendSrc:"",recommend_id:""},domain:"https://up-z2.qiniup.com",qiniuaddr:"qmaqpkabs.hn-bkt.clouddn.com",qiniuForm:{key:"",token:""},ruleValidate:{recommendTitle:[{required:!0,message:"电影名称不能为空",trigger:"blur"}],recommendImg:[{required:!0,message:"电影海报不能为空",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){t.$Message.success("校验成功!");var o=void 0;void 0!==sessionStorage.getItem("username")?(o={username:sessionStorage.getItem("username"),token:sessionStorage.getItem("token"),user_id:sessionStorage.getItem("_id"),recommendTitle:t.recommend.recommendTitle,recommendImg:t.recommend.recommendImg,recommendSrc:t.recommend.recommendSrc},console.log(o),t.$http.post("http://localhost:3000/admin/addRecommend",{recommendData:o}).then(function(e){0===e.body.status?(t.$Modal.success({title:e.body.message}),t.handleReset("formItem")):t.$Modal.error({title:e.body.message})})):t.$Modal.error({title:"请先登录"})}else t.$Message.error("Fail!")})},handleReset:function(e){this.$refs[e].resetFields()},changeMore:function(){this.formItem.more=!0},beforeUpload:function(e){var t=this;return A()(T.a.mark(function o(){var i,a,n;return T.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if((i="image/jpeg"===e.type||"image/png"===e.type)||t.$message.error("上传图片只能是 JPG或PNG 格式!"),0!=i){o.next=4;break}return o.abrupt("return",!1);case 4:return a="image/jpeg"==e.type?"jpg":"png",o.next=7,t.axios.get("http://127.0.0.1:3000/upload/token");case 7:return n=o.sent,console.log(n),console.log(n.data.data.token),t.qiniuForm={key:"recommendImg_test_"+(new Date).getTime()+Math.floor(100*Math.random())+"."+a,token:n.data.data.token},t.$Notice.info({title:"正在上传图片"}),o.abrupt("return",!0);case 13:case"end":return o.stop()}},o,t)}))()},uploadSuccess:function(e,t,o){this.recommend.recommendImg="http://qmaqpkabs.hn-bkt.clouddn.com/"+e.key,this.$Notice.info({title:"上传完成"})},beforeUploadMovie:function(e){var t=this;return A()(T.a.mark(function o(){var i,a,n;return T.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(console.log("ssssccccc"),(i="video/mp4"===e.type)||t.$message.error("上传视频暂只支持 MP4 格式!"),0!=i){o.next=5;break}return o.abrupt("return",!1);case 5:return a="mp4",o.next=8,t.axios.get("http://127.0.0.1:3000/upload/token");case 8:return n=o.sent,console.log(n),console.log(n.data.data.token),t.qiniuForm={key:"recommendSrc_test_"+(new Date).getTime()+Math.floor(100*Math.random())+"."+a,token:n.data.data.token},t.$Notice.info({title:"正在上传图片"}),o.abrupt("return",!0);case 14:case"end":return o.stop()}},o,t)}))()},uploadSuccessMovie:function(e,t,o){this.recommend.recommendSrc="http://qmaqpkabs.hn-bkt.clouddn.com/"+e.key,this.$Notice.info({title:"上传完成"})}}},ee={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("movie-index-header")],1),e._v(" "),o("div",[o("admin-page")],1),e._v(" "),o("div",[o("Form",{ref:"formItem",staticStyle:{"text-align":"left",margin:"auto",width:"500px","padding-top":"30px"},attrs:{rules:e.ruleValidate,model:e.recommend,"label-width":80}},[o("FormItem",{attrs:{label:"电影名称",prop:"recommendTitle"}},[o("Input",{attrs:{placeholder:"请输入电影名称"},model:{value:e.recommend.recommendTitle,callback:function(t){e.$set(e.recommend,"recommendTitle",t)},expression:"recommend.recommendTitle"}})],1),e._v(" "),o("FormItem",{attrs:{label:"电影海报",prop:"recommendImg"}},[e.recommend.recommendImg?o("img",{staticStyle:{"border-radius":"3px","margin-left":"10px"},attrs:{src:e.recommend.recommendImg,width:"400px"}}):e._e(),e._v(" "),o("Upload",{staticStyle:{"margin-top":"10px"},attrs:{type:"drag",data:e.qiniuForm,"before-upload":e.beforeUpload,"on-success":e.uploadSuccess,limit:1,action:"https://up-z2.qiniup.com"}},[o("div",{staticStyle:{padding:"20px 0"}},[o("Icon",{staticStyle:{color:"#88B091"},attrs:{type:"ios-cloud-upload",size:"52"}}),e._v(" "),o("p",[e._v("上传海报")])],1)]),e._v(" "),o("Input",{attrs:{placeholder:"请输入电影海报地址"},model:{value:e.recommend.recommendImg,callback:function(t){e.$set(e.recommend,"recommendImg",t)},expression:"recommend.recommendImg"}})],1),e._v(" "),o("FormItem",{attrs:{label:"电影资源",prop:"recommendSrc"}},[o("Upload",{staticStyle:{"margin-top":"10px"},attrs:{type:"drag",data:e.qiniuForm,"before-upload":e.beforeUploadMovie,"on-success":e.uploadSuccessMovie,accept:".mp4",limit:1,action:"https://up-z2.qiniup.com"}},[o("div",{staticStyle:{padding:"20px 0"}},[o("Icon",{staticStyle:{color:"#88B091"},attrs:{type:"ios-cloud-upload",size:"52"}}),e._v(" "),o("p",[e._v("上传电影")])],1)]),e._v(" "),o("Input",{attrs:{placeholder:"请输入电影资源或者电影预告片"},model:{value:e.recommend.recommendSrc,callback:function(t){e.$set(e.recommend,"recommendSrc",t)},expression:"recommend.recommendSrc"}})],1),e._v(" "),o("FormItem",{staticStyle:{"text-align":"center"}},[o("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formItem")}}},[e._v("增加")]),e._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("formItem")}}},[e._v("清空")])],1)],1)],1)])},staticRenderFns:[]};var te=o("VU/8")(Z,ee,!1,function(e){o("QwG6")},"data-v-51731fbd",null).exports,oe={name:"adminMovieDetail",components:{AdminPage:E,MovieIndexHeader:l.a},data:function(){return{detail:[],ruleValidate:{movieName:[{required:!0,message:"电影名称不能为空",trigger:"blur"}],movieImg:[{required:!0,message:"电影图片不能为空",trigger:"blur"}],movieInfo:[{required:!0,message:"电影简介不能为空",trigger:"blue"}]},domain:"https://up-z2.qiniup.com",qiniuaddr:"qmaqpkabs.hn-bkt.clouddn.com",qiniuForm:{key:"",token:""}}},created:function(){var e=this;console.log(this.$route.query.movie_id),this.$http.post("http://localhost:3000/movie/detail",{movie_id:this.$route.query.movie_id}).then(function(t){e.detail=t.body.data[0]})},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){t.$Message.success("校验成功!");var o=void 0;void 0!==sessionStorage.username?(o={username:sessionStorage.username,token:sessionStorage.token,user_id:sessionStorage._id,movie_id:t.detail._id,movieName:t.detail.movieName,movieImg:t.detail.movieImg,movieVideo:t.detail.movieVideo,movieDownload:t.detail.movieDownload,movieTime:t.detail.movieTime,movieNumSuppose:t.detail.movieNumSuppose,movieGrade:t.detail.movieGrade,movieMainPage:t.detail.movieMainPage,movieInfo:t.detail.movieInfo},console.log(o),t.$http.post("http://localhost:3000/admin/movieUpdate",{movieData:o}).then(function(e){0===e.body.status?t.$Notice.success({title:e.body.message,duration:3,top:150}):t.$Modal.error({title:e.body.message})})):t.$Modal.error({title:"请先登录"})}else t.$Message.error("Fail!")})},handleReset:function(e){this.$refs[e].resetFields()},beforeUpload:function(e){var t=this;return A()(T.a.mark(function o(){var i,a,n;return T.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if((i="image/jpeg"===e.type||"image/png"===e.type)||t.$message.error("上传图片只能是 JPG或PNG 格式!"),0!=i){o.next=4;break}return o.abrupt("return",!1);case 4:return a="image/jpeg"==e.type?"jpg":"png",o.next=7,t.axios.get("http://127.0.0.1:3000/upload/token");case 7:return n=o.sent,console.log(n),console.log(n.data.data.token),t.qiniuForm={key:"movieImg_test_"+(new Date).getTime()+Math.floor(100*Math.random())+"."+a,token:n.data.data.token},t.$Notice.info({title:"正在上传图片"}),o.abrupt("return",!0);case 13:case"end":return o.stop()}},o,t)}))()},uploadSuccess:function(e,t,o){this.detail.movieImg="http://qmaqpkabs.hn-bkt.clouddn.com/"+e.key,this.$Notice.info({title:"上传完成"})},beforeUploadMovie:function(e){var t=this;return A()(T.a.mark(function o(){var i,a,n;return T.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(console.log("ssssccccc"),(i="video/mp4"===e.type)||t.$message.error("上传视频暂只支持 MP4 格式!"),0!=i){o.next=5;break}return o.abrupt("return",!1);case 5:return a="mp4",o.next=8,t.axios.get("http://127.0.0.1:3000/upload/token");case 8:return n=o.sent,console.log(n),console.log(n.data.data.token),t.qiniuForm={key:"movieVideo_test_"+(new Date).getTime()+Math.floor(100*Math.random())+"."+a,token:n.data.data.token},t.$Notice.info({title:"正在上传图片"}),o.abrupt("return",!0);case 14:case"end":return o.stop()}},o,t)}))()},uploadSuccessMovie:function(e,t,o){this.detail.movieVideo="http://qmaqpkabs.hn-bkt.clouddn.com/"+e.key,this.$Notice.info({title:"上传完成"})}}},ie={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("movie-index-header")],1),e._v(" "),o("div",[o("admin-page")],1),e._v(" "),o("div",[o("Form",{ref:"formItem",staticStyle:{"text-align":"left",margin:"auto",width:"500px","padding-top":"30px"},attrs:{rules:e.ruleValidate,model:e.detail,"label-width":80}},[o("FormItem",{attrs:{label:"电影名称",prop:"movieName"}},[o("Input",{attrs:{placeholder:"请输入电影名称"},model:{value:e.detail.movieName,callback:function(t){e.$set(e.detail,"movieName",t)},expression:"detail.movieName"}})],1),e._v(" "),o("FormItem",{attrs:{label:"电影图片",prop:"movieImg"}},[o("Input",{attrs:{placeholder:"请输入电影图片地址"},model:{value:e.detail.movieImg,callback:function(t){e.$set(e.detail,"movieImg",t)},expression:"detail.movieImg"}}),e._v(" "),o("Upload",{staticStyle:{"margin-top":"10px"},attrs:{type:"drag",data:e.qiniuForm,"before-upload":e.beforeUpload,"on-success":e.uploadSuccess,limit:1,action:"https://up-z2.qiniup.com"}},[o("div",{staticStyle:{padding:"20px 0"}},[o("Icon",{staticStyle:{color:"#88B091"},attrs:{type:"ios-cloud-upload",size:"52"}}),e._v(" "),o("p",[e._v("上传新图片")])],1)])],1),e._v(" "),o("FormItem",{attrs:{label:"电影简介",prop:"movieInfo"}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:30},placeholder:"请输入电影简介"},model:{value:e.detail.movieInfo,callback:function(t){e.$set(e.detail,"movieInfo",t)},expression:"detail.movieInfo"}})],1),e._v(" "),o("FormItem",{attrs:{label:"电影类别",prop:"movieTag"}},[o("Select",{model:{value:e.detail.movieTag,callback:function(t){e.$set(e.detail,"movieTag",t)},expression:"detail.movieTag"}},[o("Option",{attrs:{value:"1"}},[e._v("动画")]),e._v(" "),o("Option",{attrs:{value:"0"}},[e._v("冒险")]),e._v(" "),o("Option",{attrs:{value:"2"}},[e._v("剧情")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"电影分数",prop:"movieGrade"}},[o("Rate",{attrs:{"show-text":"","allow-half":""},model:{value:e.detail.movieGrade,callback:function(t){e.$set(e.detail,"movieGrade",t)},expression:"detail.movieGrade"}},[o("span",{staticStyle:{color:"#f5a623"}},[e._v(e._s(e.detail.movieGrade))])])],1),e._v(" "),o("FormItem",{attrs:{label:"主页电影"}},[o("i-switch",{attrs:{size:"large"},model:{value:e.detail.movieMainPage,callback:function(t){e.$set(e.detail,"movieMainPage",t)},expression:"detail.movieMainPage"}},[o("span",{attrs:{slot:"open"},slot:"open"},[e._v("On")]),e._v(" "),o("span",{attrs:{slot:"close"},slot:"close"},[e._v("Off")])])],1),e._v(" "),o("FormItem",{attrs:{label:"电影视频",prop:"movieVideo"}},[o("Upload",{staticStyle:{"margin-top":"10px"},attrs:{type:"drag",data:e.qiniuForm,"before-upload":e.beforeUploadMovie,"on-success":e.uploadSuccessMovie,accept:".mp4",limit:1,action:"https://up-z2.qiniup.com"}},[o("div",{staticStyle:{padding:"20px 0"}},[o("Icon",{staticStyle:{color:"#88B091"},attrs:{type:"ios-cloud-upload",size:"52"}}),e._v(" "),o("p",[e._v("上传电影")])],1)]),e._v(" "),o("Input",{attrs:{placeholder:"请输入电影视频播放地址"},model:{value:e.detail.movieVideo,callback:function(t){e.$set(e.detail,"movieVideo",t)},expression:"detail.movieVideo"}})],1),e._v(" "),o("FormItem",{attrs:{label:"电影下载",prop:"movieDownload"}},[o("Input",{attrs:{placeholder:"请输入电影下载地址"},model:{value:e.detail.movieDownload,callback:function(t){e.$set(e.detail,"movieDownload",t)},expression:"detail.movieDownload"}})],1),e._v(" "),o("FormItem",{attrs:{label:"电影预告片",prop:"moviePreVideo"}},[o("Input",{attrs:{placeholder:"请输入电影预告片播放地址"},model:{value:e.detail.moviePreVideo,callback:function(t){e.$set(e.detail,"moviePreVideo",t)},expression:"detail.moviePreVideo"}})],1),e._v(" "),o("FormItem",{attrs:{label:"上映时间",prop:"movieTime"}},[o("Input",{attrs:{placeholder:"请输入电影上映时间"},model:{value:e.detail.movieTime,callback:function(t){e.$set(e.detail,"movieTime",t)},expression:"detail.movieTime"}})],1),e._v(" "),o("FormItem",{staticStyle:{"text-align":"center"}},[o("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formItem")}}},[e._v("保存修改")]),e._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("formItem")}}},[e._v("清空")])],1)],1)],1)])},staticRenderFns:[]};var ae=o("VU/8")(oe,ie,!1,function(e){o("1YKb")},"data-v-3cd89d58",null).exports,ne={name:"RecommendList",components:{AdminPage:E,MovieIndexHeader:l.a},data:function(){var e=this;return{modal9:!1,loadFlag:!0,domain:"https://up-z2.qiniup.com",qiniuaddr:"qmaqpkabs.hn-bkt.clouddn.com",qiniuForm:{key:"",token:""},columns:[{title:"电影名称",slot:"recommendTitle",align:"center"},{title:"电影海报",slot:"recommendImg",align:"center",width:"400px"},{title:"电影资源",slot:"recommendSrc",align:"center"},{title:"编辑",slot:"action",align:"center"},{title:"操作",key:"action",align:"center",render:function(t,o){return t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"5px"},on:{click:function(){e.show(o.index)}}},"查看"),t("Button",{props:{type:"error"},on:{click:function(){e.remove(o.index)}}},"删除")])}}],RecommendData:[],editRecommendTitle:"",editRecommendSrc:"",editRecommendImg:"",editIndex:"",modal:{showDetail:!1},recommendDetail:""}},created:function(){var e=this;this.$http.get("http://localhost:3000/showIndex").then(function(t){e.RecommendData=t.body.data,e.loadFlag=!1,console.log(t.body.data)})},methods:{show:function(e){this.recommendDetail=" 电影ID："+this.RecommendData[e]._id+"<br> 电影名称："+this.RecommendData[e].recommendTitle+"<br> 电影海报地址："+this.RecommendData[e].recommendImg+"<br> 电影资源地址："+this.RecommendData[e].recommendSrc,this.$Modal.info({title:"电影信息",width:900,top:300,scrollable:!0,content:this.recommendDetail})},remove:function(e){var t=this,o=void 0;void 0!==sessionStorage.username?(o={username:sessionStorage.username,token:sessionStorage.token,user_id:sessionStorage._id,recommend_id:this.RecommendData[e]._id},this.$Modal.confirm({title:"确认删除此条数据吗？",onOk:function(){t.$http.post("http://localhost:3000/admin/delRecommend",o).then(function(e){0===e.body.status?t.$Notice.success({title:e.body.message,duration:3,top:150}):t.$Modal.error({title:e.body.message})}),t.RecommendData.splice(e,1)},onCancel:function(){}})):this.$Modal.error({title:"请先登录"})},handleEdit:function(e,t){this.editIndex=t,this.editRecommendImg=e.recommendImg,this.editRecommendSrc=e.recommendSrc,this.editRecommendTitle=e.recommendTitle},handleSave:function(e){var t=this,o=void 0;void 0!==sessionStorage.username?(o={username:sessionStorage.username,token:sessionStorage.token,user_id:sessionStorage._id,recommend_id:this.RecommendData[e]._id,recommendTitle:this.editRecommendTitle,recommendSrc:this.editRecommendSrc,recommendImg:this.editRecommendImg},console.log(o),this.$http.post("http://localhost:3000/admin/recommendUpdate",{recommendData:o}).then(function(o){0===o.body.status?(t.$Notice.success({title:o.body.message,duration:3,top:150}),t.RecommendData[e].recommendTitle=t.editRecommendTitle,t.RecommendData[e].recommendImg=t.editRecommendImg,t.RecommendData[e].recommendSrc=t.editRecommendSrc,t.editIndex=-1):t.$Modal.error({title:o.body.message})})):this.$Modal.error({title:"请先登录"})},beforeUpload:function(e){var t=this;return A()(T.a.mark(function o(){var i,a,n;return T.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if((i="image/jpeg"===e.type||"image/png"===e.type)||t.$message.error("上传图片只能是 JPG或PNG 格式!"),0!=i){o.next=4;break}return o.abrupt("return",!1);case 4:return a="image/jpeg"==e.type?"jpg":"png",o.next=7,t.axios.get("http://127.0.0.1:3000/upload/token");case 7:return n=o.sent,console.log(n),console.log(n.data.data.token),t.qiniuForm={key:"movieImg_test_"+(new Date).getTime()+Math.floor(100*Math.random())+"."+a,token:n.data.data.token},t.$Notice.info({title:"正在上传图片"}),o.abrupt("return",!0);case 13:case"end":return o.stop()}},o,t)}))()},uploadSuccess:function(e,t,o){this.editRecommendImg="http://qmaqpkabs.hn-bkt.clouddn.com/"+e.key,this.$Notice.info({title:"上传完成"}),console.log(this.RecommendData),console.log(this.editRecommendTitle)},beforeUploadMovie:function(e){var t=this;return A()(T.a.mark(function o(){var i,a,n;return T.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(console.log("ssssccccc"),(i="video/mp4"===e.type)||t.$message.error("上传视频暂只支持 MP4 格式!"),0!=i){o.next=5;break}return o.abrupt("return",!1);case 5:return a="mp4",o.next=8,t.axios.get("http://127.0.0.1:3000/upload/token");case 8:return n=o.sent,console.log(n),console.log(n.data.data.token),t.qiniuForm={key:"recommendSrc_test_"+(new Date).getTime()+Math.floor(100*Math.random())+"."+a,token:n.data.data.token},t.$Notice.info({title:"正在上传图片"}),o.abrupt("return",!0);case 14:case"end":return o.stop()}},o,t)}))()},uploadSuccessMovie:function(e,t,o){this.this.editRecommendSrc="http://qmaqpkabs.hn-bkt.clouddn.com/"+e.key,this.$Notice.info({title:"上传完成"})}}},se={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("movie-index-header")],1),e._v(" "),o("div",[o("admin-page")],1),e._v(" "),o("div",{staticStyle:{margin:"30px 20px 20px 150px","padding-top":"30px"}},[o("i-col",{attrs:{span:"100",offset:"1"}},[o("Table",{ref:"table",attrs:{loading:e.loadFlag,columns:e.columns,data:e.RecommendData,height:"700",size:"large",border:!0},scopedSlots:e._u([{key:"recommendTitle",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("Input",{attrs:{type:"text"},model:{value:e.editRecommendTitle,callback:function(t){e.editRecommendTitle=t},expression:"editRecommendTitle"}}):o("span",[e._v(e._s(i.recommendTitle.length<=18?i.recommendTitle:i.recommendTitle.substring(0,18)+"..."))])]}},{key:"recommendImg",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("div",{staticStyle:{padding:"10px"}},[o("Input",{attrs:{type:"text"},model:{value:e.editRecommendImg,callback:function(t){e.editRecommendImg=t},expression:"editRecommendImg"}}),e._v(" "),o("Upload",{staticStyle:{"margin-top":"10px"},attrs:{type:"drag",data:e.qiniuForm,"before-upload":e.beforeUpload,"on-success":e.uploadSuccess,limit:1,action:"https://up-z2.qiniup.com"}},[o("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[e._v("Upload files")])],1)],1):o("div",[o("img",{staticStyle:{width:"300px"},attrs:{src:i.recommendImg}}),e._v(" "),o("p",[e._v(e._s(i.recommendImg.length<=18?i.recommendImg:i.recommendImg.substring(0,50)+"..."))])])]}},{key:"recommendSrc",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("div",[o("Input",{attrs:{type:"text"},model:{value:e.editRecommendSrc,callback:function(t){e.editRecommendSrc=t},expression:"editRecommendSrc"}}),e._v(" "),o("Upload",{staticStyle:{"margin-top":"10px"},attrs:{type:"drag",data:e.qiniuForm,"before-upload":e.beforeUploadMovie,"on-success":e.uploadSuccessMovie,limit:1,action:"https://up-z2.qiniup.com"}},[o("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[e._v("Upload files")])],1)],1):o("div",[o("span",[e._v(e._s(i.recommendSrc.length<=18?i.recommendSrc:i.recommendSrc.substring(0,30)+"..."))])])]}},{key:"action",fn:function(t){var i=t.row,a=t.index;return[e.editIndex===a?o("div",[o("Button",{staticStyle:{color:"green"},on:{click:function(t){return e.handleSave(a)}}},[e._v("保存")]),e._v(" "),o("Button",{staticStyle:{color:"red"},on:{click:function(t){e.editIndex=-1}}},[e._v("取消")])],1):o("div",[o("Button",{on:{click:function(t){return e.handleEdit(i,a)}}},[e._v("编辑")])],1)]}}])})],1)],1)])},staticRenderFns:[]};var re=o("VU/8")(ne,se,!1,function(e){o("H556")},"data-v-366a4e7c",null).exports;i.default.use(s.a),i.default.use(r.a);var le=[{path:"/",component:function(e){return o.e(0).then(function(){var t=[o("2NXm")];e.apply(null,t)}.bind(this)).catch(o.oe)},meta:{title:"home"}},{path:"/movieList",component:v},{path:"/movieDetail",component:y},{path:"/loginPage",component:S},{path:"/registerPage",component:M},{path:"/showName",component:P},{path:"/changeInfo",component:z},{path:"/upload",component:R},{path:"/admin",component:E},{path:"/movieAdd",component:H},{path:"/adminUser",component:J},{path:"/movieAdmin",component:W},{path:"/recommendAdmin",component:te},{path:"/adminMovieDetail",component:ae},{path:"/RecommendList",component:re}],de=s.a.prototype.replace;s.a.prototype.replace=function(e){return de.call(this,e).catch(function(e){return e})};var me=new s.a({routes:le}),ce=o("BTaQ"),ue=o.n(ce),pe=(o("f4rI"),o("b3L9")),ve=o.n(pe),he=o("zL8q"),ge=o.n(he),fe=(o("tvR6"),o("iqGf")),_e=o.n(fe),be=o("mtWM"),ye=o.n(be);i.default.prototype.axios=ye.a,i.default.use(_e.a),i.default.use(ge.a),i.default.use(ve.a),i.default.config.productionTip=!1,i.default.use(ue.a),new i.default({el:"#app",router:me,components:{App:n},template:"<App/>",render:function(e){return e(n)}})},OKa7:function(e,t){},QIZ5:function(e,t){},QwG6:function(e,t){},"b/oA":function(e,t){},cnNU:function(e,t){},f4rI:function(e,t){},foFD:function(e,t){},g3Gj:function(e,t){},j89w:function(e,t){},q92E:function(e,t){},rNuU:function(e,t){},t4xX:function(e,t,o){"use strict";var i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{margin:"20px 20px 20px 30px",display:"inline-block"}},[o("el-card",{staticStyle:{width:"270px",height:"400px","border-radius":"10px"},attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[o("div",[o("router-link",{staticClass:"goods-list-link",attrs:{to:{path:"/movieDetail",query:{id:e.id}}}},[o("img",{staticClass:"image",attrs:{src:e.movieImg}}),e._v(" "),o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.movieName))]),e._v(" "),o("div",{staticClass:"bottom clearfix"},[o("el-button",{staticClass:"button",staticStyle:{"margin-right":"10px",color:"#88B091"},attrs:{type:"text"}},[o("Icon",{staticStyle:{"margin-right":"7px"},attrs:{type:"ios-heart"}}),e._v("\n            已有 "+e._s(e.movieNumSuppose)+" 人点赞\n          ")],1)],1)],1)],1)])],1)},staticRenderFns:[]};var a=o("VU/8")({data:function(){return{}},props:["id","movieName","movieImg","movieNumSuppose"],created:function(){}},i,!1,function(e){o("q92E")},"data-v-f2c07de4",null);t.a=a.exports},tvR6:function(e,t){},vtU2:function(e,t){},"wY/b":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.6d7f296da48bf0dea2ea.js.map